<header
  class="sticky top-0 z-50 w-full border-b border-neutral-800 bg-black bg-opacity-20 backdrop-filter backdrop-blur-md"
>
  <div class="container mx-auto flex h-16 items-center px-4">
    <div class="mr-4 hidden md:flex">
      <button data-target="home" class="mr-6 flex items-center space-x-2">
        <span class="hidden font-bold sm:inline-block text-2xl"
          >Marcial Fantini</span
        >
      </button>
      <nav class="flex items-center space-x-6 text-sm font-medium">
        <button
          data-target="home"
          class="text-neutral-200 hover:text-white transition-colors"
          >Home</button
        >
        <button
          data-target="services"
          class="text-neutral-200 hover:text-white transition-colors"
          >Services</button
        >
        <button
          data-target="projects"
          class="text-neutral-200 hover:text-white transition-colors"
          >Projects</button
        >
        <button
          data-target="about"
          class="text-neutral-200 hover:text-white transition-colors"
          >About Me</button
        >
        <a
          href="/blog"
          data-target="contact"
          class="text-neutral-200 hover:text-white transition-colors">Blog</a
        >
        <button
          data-target="contact"
          class="text-neutral-200 hover:text-white transition-colors"
          >Contact</button
        >
      </nav>
    </div>
    <button
      data-target="contact"
      class="ml-auto bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded transition duration-300"
      >Let's talk!</button
    >
  </div>
</header>

<script>
  import { GoToID } from "@/layouts/GoToLink";
  import { navigate } from "astro:transitions/client";

  const buttons = document.querySelectorAll("button[data-target]");

  buttons.forEach((button) => {
    button.addEventListener("click", async () => {
      const targetID = button.getAttribute("data-target");

      if (window.location.pathname !== "/") {
        console.log("/" + "#" + targetID);
        await navigate("/" + "#" + targetID).then(() => {
          setTimeout(() => GoToID(targetID)(), 1000);
          console.log(targetID);
        });
      } else {
        GoToID(targetID)();
        console.log(targetID);
      }
    });
  });
</script>
